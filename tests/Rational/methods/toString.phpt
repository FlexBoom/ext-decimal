--TEST--
Rational::toString
--SKIPIF--
<?php
if (!extension_loaded("decimal")) echo "skip";
?>
--FILE--
<?php
use Decimal\Rational;

/**
 * op1, expected result
 */
$tests = [
    [0,             "0"],
    ["0",           "0"],
    ["+0",          "0"],
    ["-0",         "-0"],
    ["0.0",         "0"],
    ["1",           "1"],
    ["1.5",         "3/2"],
    ["0.1",         "1/10"],
    ["+0.1",        "1/10"],
    ["-0.1",       "-1/10"],
    [123,           "123"],
    [-123,         "-123"],

    ["0.00000000123",   "123/1E+11"],
    ["0.0000000123",    "123/1E+10"],
    ["0.000000123",     "123/1E+9"],
    ["0.00000123",      "123/100000000"],
    ["0.0000123",       "123/10000000"],
    ["0.000123",        "123/1000000"],
    ["0.00123",         "123/100000"],
    ["0.0123",          "123/10000"],
    ["0.123",           "123/1000"],
    ["1.23",            "123/100"],
    ["12.3",            "123/10"],
    ["123",             "123"],
    ["1230",            "1230"],
    ["12300",           "12300"],
    ["123000",          "123000"],
    ["1230000",         "1230000"],
    ["12300000",        "12300000"],
    ["123000000",       "123000000"],
    ["1230000000",      "1230000000"],

    // Uppercase E
    ["1.5E20",      "1.5E+20"],
    ["1.5E+20",     "1.5E+20"],
    ["1.5E-20",     "3/2E+20"],

    ["+1.5E20",     "1.5E+20"],
    ["+1.5E+20",    "1.5E+20"],
    ["+1.5E-20",    "3/2E+20"],

    ["-1.5E20",     "-1.5E+20"],
    ["-1.5E+20",    "-1.5E+20"],
    ["-1.5E-20",    "-3/2E+20"],

    // Lowercase e
    ["1.5e20",      "1.5E+20"],
    ["1.5e+20",     "1.5E+20"],
    ["1.5e-20",     "3/2E+20"],

    ["+1.5e20",     "1.5E+20"],
    ["+1.5e+20",    "1.5E+20"],
    ["+1.5e-20",    "3/2E+20"],

    ["-1.5e20",     "-1.5E+20"],
    ["-1.5e+20",    "-1.5E+20"],
    ["-1.5e-20",    "-3/2E+20"],

    // Special numbers
    [ "NAN",        "NAN"],
    [ "INF",        "INF"],
    ["+INF",        "INF"],
    ["-INF",       "-INF"],
    [ "nan",        "NAN"],
    [ "inf",        "INF"],
    ["+inf",        "INF"],
    ["-inf",       "-INF"],
    [ "NaN",        "NAN"],
    [ "Inf",        "INF"],
    ["+Inf",        "INF"],
    ["-Inf",       "-INF"],

    // Nested
    [Rational::valueOf("0.1"), "1/10"],
];

foreach ($tests as $test) {
    $number = $test[0];
    $expect = $test[1];

    $results = [
        (string) Rational::valueOf($number),
        Rational::valueOf($number)->toString(),
        Rational::valueOf($number)->__toString(),
    ];

    foreach ($results as $result) {
        if ($result !== $expect) {
            print_r(compact("number", "result", "expect"));
            break;
        }
    }
}

?>
--EXPECT--
