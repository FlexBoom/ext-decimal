--TEST--
Decimal::toString
--FILE--
<?php
use Decimal\Decimal;

$tests = [
    [0,             "0E+0"],
    ["0",           "0E+0"],
    ["+0",          "0E+0"],
    ["-0",         "-0E+0"],
    ["0.0",         "0E-1"],
    ["1",           "1E+0"],
    ["1.5",         "1.5E+0"],
    ["0.1",         "1E-1"],
    ["+0.1",        "1E-1"],
    ["-0.1",       "-1E-1"],
    [123,           "1.23E+2"],
    [-123,         "-1.23E+2"],

    ["0.00000000123",   "1.23E-9"],
    ["0.0000000123",    "1.23E-8"],
    ["0.000000123",     "1.23E-7"],
    ["0.00000123",      "1.23E-6"],
    ["0.0000123",       "1.23E-5"],
    ["0.000123",        "1.23E-4"],
    ["0.00123",         "1.23E-3"],
    ["0.0123",          "1.23E-2"],
    ["0.123",           "1.23E-1"],
    ["1.23",            "1.23E+0"],
    ["12.3",            "1.23E+1"],
    ["123",             "1.23E+2"],
    ["1230",            "1.230E+3"],
    ["12300",           "1.2300E+4"],
    ["123000",          "1.23000E+5"],
    ["1230000",         "1.230000E+6"],
    ["12300000",        "1.2300000E+7"],
    ["123000000",       "1.23000000E+8"],
    ["1230000000",      "1.230000000E+9"],

    // Uppercase E
    ["1.5E20",      "1.5E+20"],
    ["1.5E+20",     "1.5E+20"],
    ["1.5E-20",     "1.5E-20"],

    ["+1.5E20",     "1.5E+20"],
    ["+1.5E+20",    "1.5E+20"],
    ["+1.5E-20",    "1.5E-20"],

    ["-1.5E20",     "-1.5E+20"],
    ["-1.5E+20",    "-1.5E+20"],
    ["-1.5E-20",    "-1.5E-20"],

    // Lowercase e
    ["1.5e20",      "1.5E+20"],
    ["1.5e+20",     "1.5E+20"],
    ["1.5e-20",     "1.5E-20"],

    ["+1.5e20",     "1.5E+20"],
    ["+1.5e+20",    "1.5E+20"],
    ["+1.5e-20",    "1.5E-20"],

    ["-1.5e20",     "-1.5E+20"],
    ["-1.5e+20",    "-1.5E+20"],
    ["-1.5e-20",    "-1.5E-20"],

    // Special numbers
    [ "NAN",        "NAN"],
    [ "INF",        "INF"],
    ["+INF",        "INF"],
    ["-INF",       "-INF"],
    [ "nan",        "NAN"],
    [ "inf",        "INF"],
    ["+inf",        "INF"],
    ["-inf",       "-INF"],
    [ "NaN",        "NAN"],
    [ "Inf",        "INF"],
    ["+Inf",        "INF"],
    ["-Inf",       "-INF"],

    // Nested
    [Decimal::valueOf("0.1"), "1E-1"],
];

foreach ($tests as $test) {
    $number = $test[0];
    $expect = $test[1];
    $result = Decimal::valueOf($number)->toSci();

    if ($result !== $expect) {
        print_r(compact("number", "result", "expect"));
    }
}

?>
--EXPECT--
